<html>
	<body>
		<textarea id="params" style="width: 400px; height: 200px;">{
	"username": "<username>",
	"passwd": "<password>",
	"service": "session",
	"method": "open",
	"format": "json"
}</textarea>
		<br />
		<button onclick="sendRequest()">Send</button>

		<br />
		<code id="output"></code>

		<script src="vendor/jquery.min.js"></script>
		<script src="vendor/forge.all.min.js"></script>
		<script src="browser-thi-api.js"></script>

		<script>
			function sendRequest()
			{
				var paramsEl = document.getElementById("params");
				var params = JSON.parse(paramsEl.value);
				thiAppRequest(params)
					.then(result => document.getElementById("output").innerText = JSON.stringify(result, null, 4))
					.catch(e => {
						alert("API Error! View console for details");
						console.error(e);
					});
			}
		</script>
	</body>
</html>